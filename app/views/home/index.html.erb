<div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
  <!-- Header -->
  <div class="text-center mb-8 pt-8">
    <h1 class="text-4xl font-bold text-gray-800 mb-2">💼 Salary Calculator</h1>
    <p class="text-gray-600">Enter your work details to see your potential earnings</p>
  </div>  <!-- Main Content: Form and Results Side by Side -->
  <div class="max-w-7xl mx-auto">
    <div id="main-container" class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-start">

      <!-- Form (1/3 width on large screens, centered when no results) -->
      <div id="form-container" class="lg:col-span-1 transition-all duration-300">
        <%= form_with url: home_index_path, method: :post, data: { turbo: true } do |f| %>
          <div class="bg-white rounded-lg shadow-md p-6 space-y-4 sticky top-4">
            <h2 class="text-lg font-semibold text-gray-800 mb-4">⚙️ Configuration</h2>

            <!-- Hourly Wage -->
            <div>
              <label for="hourly_wage" class="block text-sm font-medium text-gray-700 mb-2">
                💰 Hourly Wage (€)
              </label>
              <%= f.number_field :hourly_wage, step: 0.01, min: 0,
                  placeholder: "25.00",
                  onblur: "this.form.requestSubmit(); adjustLayout();",
                  class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200" %>
            </div>

            <!-- Daily Hours -->
            <div>
              <label for="daily_hours" class="block text-sm font-medium text-gray-700 mb-2">
                ⏰ Daily Hours
              </label>
              <%= f.number_field :daily_hours, step: 0.5, min: 0, max: 24, value: 8,
                  onblur: "this.form.requestSubmit(); adjustLayout();",
                  class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200" %>
            </div>

            <!-- Weekly Hours -->
            <div>
              <label for="weekly_hours" class="block text-sm font-medium text-gray-700 mb-2">
                📅 Weekly Hours
              </label>
              <%= f.number_field :weekly_hours, step: 0.5, min: 0, max: 168, value: 40,
                  onblur: "this.form.requestSubmit(); adjustLayout();",
                  class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200" %>
            </div>

            <p class="text-xs text-gray-500 mt-4">💡 Results update automatically</p>
          </div>
        <% end %>
      </div>

      <!-- Results (2/3 width on large screens) -->
      <div id="results-container" class="lg:col-span-2">
        <div id="results" class="flex justify-center lg:justify-start">
          <!-- Results will be populated here via Turbo Stream -->
        </div>
      </div>

    </div>
  </div>

  <script>
    function adjustLayout() {
      setTimeout(() => {
        const results = document.getElementById('results');
        const formContainer = document.getElementById('form-container');
        const resultsContainer = document.getElementById('results-container');
        const mainContainer = document.getElementById('main-container');

        if (results && results.children.length === 0) {
          // No results - center the form
          mainContainer.className = 'flex justify-center items-start min-h-[60vh]';
          formContainer.className = 'w-full max-w-md transition-all duration-300';
          resultsContainer.style.display = 'none';
        } else {
          // Results exist - use side-by-side layout
          mainContainer.className = 'grid grid-cols-1 lg:grid-cols-3 gap-8 items-start';
          formContainer.className = 'lg:col-span-1 transition-all duration-300';
          resultsContainer.style.display = 'block';
          resultsContainer.className = 'lg:col-span-2';
        }
      }, 100);
    }

    // Check layout on page load
    document.addEventListener('DOMContentLoaded', adjustLayout);
  </script>
</div>

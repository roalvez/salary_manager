<%= turbo_stream.update "results" do %>
  <div class="bg-white rounded-xl shadow-2xl p-6 w-full max-w-4xl">
    <h3 class="text-2xl font-bold text-gray-800 mb-4 text-center">💰 Salary Breakdown</h3>

    <!-- Configuration Summary -->
    <div class="mb-4 p-3 bg-gray-50 rounded-lg">
      <h4 class="text-sm font-semibold text-gray-600 mb-2">📊 Your Configuration:</h4>
      <div class="grid grid-cols-3 gap-3 text-xs text-gray-600">
        <div class="text-center">
          <div class="font-medium text-gray-800"><%= @daily_hours %></div>
          <div class="text-xs">Daily Hours</div>
        </div>
        <div class="text-center">
          <div class="font-medium text-gray-800"><%= @weekly_hours %></div>
          <div class="text-xs">Weekly Hours</div>
        </div>
        <div class="text-center">
          <div class="font-medium text-gray-800"><%= @working_days_current_month %></div>
          <div class="text-xs">Working Days This Month</div>
        </div>
      </div>
    </div>

    <!-- Current Month Earnings - Full Width -->
    <div class="mb-4">
      <div class="p-4 bg-gradient-to-r from-emerald-50 to-green-50 rounded-xl border-l-4 border-emerald-500 shadow-md">
        <div class="text-center">
          <div class="text-lg font-bold text-gray-800 mb-1">📅 Current Month Earnings</div>
          <div class="text-xs text-gray-500 mb-2"><%= @current_month_name %> • <%= @working_days_current_month %> working days</div>
          <div class="text-3xl font-bold text-emerald-600">€<%= number_with_precision(@current_month_earnings, precision: 2) %></div>
        </div>
      </div>
    </div>

    <!-- Salary Breakdown Grid - 2x2 Layout -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <!-- Hourly Rate -->
      <div class="p-3 bg-green-50 rounded-lg border-l-4 border-green-500">
        <div class="text-center">
          <div class="text-base font-semibold text-gray-700 mb-1">💵 Hourly Rate</div>
          <div class="text-2xl font-bold text-green-600">€<%= number_with_precision(@hourly, precision: 2) %></div>
          <div class="text-xs text-gray-500">Base wage</div>
        </div>
      </div>

      <!-- Daily Earnings -->
      <div class="p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500">
        <div class="text-center">
          <div class="text-base font-semibold text-gray-700 mb-1">📆 Daily Earnings</div>
          <div class="text-2xl font-bold text-blue-600">€<%= number_with_precision(@daily, precision: 2) %></div>
          <div class="text-xs text-gray-500"><%= @daily_hours %> hours per day</div>
        </div>
      </div>

      <!-- Monthly Income -->
      <div class="p-3 bg-purple-50 rounded-lg border-l-4 border-purple-500">
        <div class="text-center">
          <div class="text-base font-semibold text-gray-700 mb-1">🗓️ Monthly Income</div>
          <div class="text-2xl font-bold text-purple-600">€<%= number_with_precision(@monthly, precision: 2) %></div>
          <div class="text-xs text-gray-500"><%= number_with_precision(@weeks_per_month, precision: 1) %> weeks average</div>
        </div>
      </div>

      <!-- Annual Salary -->
      <div class="p-3 bg-indigo-50 rounded-lg border-l-4 border-indigo-500">
        <div class="text-center">
          <div class="text-base font-semibold text-gray-700 mb-1">📊 Annual Salary</div>
          <div class="text-2xl font-bold text-indigo-600">€<%= number_with_precision(@annual, precision: 2) %></div>
          <div class="text-xs text-gray-500">52 weeks per year</div>
        </div>
      </div>
    </div>

    <!-- Additional Info -->
    <div class="mt-4 p-3 bg-blue-50 rounded-lg">
      <div class="text-xs text-blue-700 text-center">
        <strong>💡 Quick Facts:</strong> Working <%= @weekly_hours %> hours per week means you'd earn approximately
        <strong>€<%= number_with_precision(@annual / 1000, precision: 1) %>K annually</strong> before taxes.
      </div>
    </div>
  </div>
<% end %>
